(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8ea7bb16"],{"0144":function(e,a,n){"use strict";(function(t){n.d(a,"a",function(){return e});var e=function(e){t("#".concat(e)).modal("setting","closable",!1).modal("show")}}).call(this,n("1157"))},"0ccb":function(e,t,a){var i=a("50c4"),s=a("1148"),o=a("1d80"),c=Math.ceil,a=function(r){return function(e,t,a){var n=String(o(e)),e=n.length,a=void 0===a?" ":String(a),t=i(t);return t<=e||""==a?n:(e=t-e,(a=s.call(a,c(e/a.length))).length>e&&(a=a.slice(0,e)),r?n+a:a+n)}};e.exports={start:a(!1),end:a(!0)}},1148:function(e,t,a){"use strict";var r=a("a691"),i=a("1d80");e.exports="".repeat||function(e){var t=String(i(this)),a="",n=r(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(a+=t);return a}},"11dd":function(e,t,a){},"3de1":function(e,t,a){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return function(e,t){if(0===arguments.length||!e)return null;var t=t||"{y}-{m}-{d} {h}:{i}:{s}",n={y:(e="object"===r(e)?e:("string"==typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"==typeof e&&10===e.toString().length&&(e*=1e3),new Date(e))).getFullYear(),m:e.getMonth()+1,d:e.getDate(),h:e.getHours(),i:e.getMinutes(),s:e.getSeconds(),a:e.getDay()};return t.replace(/{([ymdhisa])+}/g,function(e,t){var a=n[t];return"a"===t?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")})}(new Date(e))}function i(r,i,s){function o(){var e=+new Date-u;e<i&&0<e?c=setTimeout(o,i-e):(c=null,s||(d=r.apply(l,t),c||(l=t=null)))}var c,t,l,u,d;return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];l=this,u=+new Date;var n=s&&!c;return c=c||setTimeout(o,i),n&&(d=r.apply(l,t),l=t=null),d}}function s(e){return JSON.parse(JSON.stringify(e))}function o(){var e=+new Date+"";return(+("".concat(parseInt(65536*(1+Math.random())))+e)).toString(32)}a.d(t,"d",function(){return n}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return s}),a.d(t,"a",function(){return o}),a("4160"),a("277d"),a("fb6a"),a("6eba"),a("0d03"),a("b64b"),a("d3b7"),a("e25e"),a("4d63"),a("ac1f"),a("25f0"),a("4d90"),a("5319"),a("159b"),a("4795"),a("a4d3"),a("e01a"),a("d28b"),a("3ca3"),a("ddb0")},"4aea":function(e,t,a){},"4d90":function(e,t,a){"use strict";var n=a("23e7"),r=a("0ccb").start;n({target:"String",proto:!0,forced:a("9a0c")},{padStart:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}})},"5f90":function(e,t,a){"use strict";var n=a("11dd");a.n(n).a},"677e":function(e,t,a){"use strict";var n=a("4aea");a.n(n).a},"6eba":function(e,t,a){a("23e7")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},"84ac":function(e,n,r){"use strict";(function(t){var a=r("464f");n.a={name:"Modal",props:{modalId:{type:String,required:!0},formId:{type:String,default:""}},mounted:function(){var e=this;""!==this.formId&&t("#".concat(this.modalId)).modal({closable:!1,onApprove:function(){return a.a.validateForm(e.formId)}})}}}).call(this,r("1157"))},9134:function(e,t,a){"use strict";a.r(t);function n(){return{currentPage:1,pageSize:5,totalPage:0}}var i=(a("d81d"),a("0d03"),a("b0c0"),a("96cf"),a("1da1")),r=a("84ac").a,s=a("2877"),o=Object(s.a)(r,function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"ui modal",attrs:{id:e.modalId}},[e._t("header"),e._t("default"),e._t("actions")],2)},[],!1,null,null,null).exports,c={name:"BasicModalHeader"},l=Object(s.a)(c,function(){var e=this.$createElement;return(this._self._c||e)("h2",{staticClass:"ui center aligned header"},[this._t("default")],2)},[],!1,null,null,null).exports,u={name:"BasicModalContent"},d=Object(s.a)(u,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"content"},[this._t("default")],2)},[],!1,null,null,null).exports,m={name:"OkOrCancelModalActions"},f=Object(s.a)(m,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"actions"},[e("div",{staticClass:"ui red cancel inverted button",on:{click:function(e){return t.$emit("clickCancel")}}},[e("i",{staticClass:"remove icon"}),t._v("取消 ")]),e("div",{staticClass:"ui green ok inverted button",on:{click:function(e){return t.$emit("clickCheck")}}},[e("i",{staticClass:"checkmark icon"}),t._v("确认 ")])])},[],!1,null,null,null).exports,p=a("3de1"),v=a("464f"),h=a("4337"),b="/user",g=a("8c5d"),_=a("39ec"),C=a("88bc"),k=a("f0ac"),w=a("00fb"),y=a("ce50").a,r=Object(s.a)(y,function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("div",{staticClass:"ui clearable multiple selection dropdown",attrs:{id:a.id}},[n("input",{attrs:{name:"roleNameList",type:"hidden"},on:{change:function(e){return a.changeRoleNameList(e.target.value)}}}),n("i",{staticClass:"dropdown icon"}),n("div",{staticClass:"default text"},[a._v("选择角色")]),n("div",{staticClass:"menu"},a._l(a.roleList,function(e,t){return n("div",{key:t,staticClass:"item",class:[a.roleNameHasAdmin(e.name)?"disabled":""],attrs:{"data-text":e.nameZh,"data-value":e.name}},[a._v(" "+a._s(e.nameZh)+" ")])}),0)])},[],!1,null,null,null).exports,c={name:"SaveUserModal",components:{RoleDropdown:r,BasicField:w.a,LeftLabeledInputField:k.a,LeftLabeledField:C.a,Form:_.a,OkOrCancelModalActions:f,BasicModalContent:d,BasicModalHeader:l,Modal:o},props:{user:{type:Object,default:null}},data:function(){return{form:this.getDefaultForm(),initRole:[]}},computed:{isEdit:function(){return null!==this.form.id},isNew:function(){return null===this.form.id}},watch:{user:function(){var e;this.user?((e=Object(p.c)(this.user)).createTime=new Date(e.createTime),e.recentLoginTime=new Date(e.recentLoginTime),e.roleNameList=[],this.initRole=e.roleList.map(function(e){return e.name}),delete e.roleList,this.form=e):this.form=this.getDefaultForm()}},methods:{saveUser:function(){var n=this;return Object(i.a)(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.a.validateForm("userForm"))return e.next=3,n.isEdit?(t=n.form,Object(h.b)("".concat(b,"/modifyUser"),t)):(t=n.form,Object(h.b)("".concat(b,"/addUser"),t));e.next=6;break;case 3:a=e.sent,a.success&&(Object(g.g)({message:n.isEdit?"修改用户成功":"添加用户成功"}),n.$emit("saveUserSuccess"));case 6:case"end":return e.stop()}var t},e)}))()},getDefaultForm:function(){return{id:null,username:"",password:"",nickname:"",createTime:new Date,recentLoginTime:new Date,roleNameList:[],enabled:!1}},validateRule:function(){return{username:v.a.usernameRules,nickname:v.a.nicknameRules,roleNameList:{rules:[v.a.notEmptyRule("角色")]}}}}},u=Object(s.a)(c,function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("Modal",{attrs:{"modal-id":"saveUserModal","form-id":"userForm"},scopedSlots:i._u([{key:"header",fn:function(){return[t("BasicModalHeader",{staticClass:"blue"},[i._v(" 保存用户 ")])]},proxy:!0},{key:"actions",fn:function(){return[t("OkOrCancelModalActions",{on:{clickCheck:i.saveUser}})]},proxy:!0}])},[t("BasicModalContent",[t("Form",{attrs:{"form-id":"userForm","validate-rule":i.validateRule()}},[t("LeftLabeledInputField",{attrs:{data:i.form.username,name:"username",label:"用户名"},on:{"update:data":function(e){return i.$set(i.form,"username",e)}}}),i.isNew?t("LeftLabeledInputField",{attrs:{data:i.form.password,name:"password",label:"密码"},on:{"update:data":function(e){return i.$set(i.form,"password",e)}}}):i._e(),t("LeftLabeledInputField",{attrs:{data:i.form.nickname,name:"nickname",label:"昵称"},on:{"update:data":function(e){return i.$set(i.form,"nickname",e)}}}),t("LeftLabeledField",{attrs:{label:"创建时间"}},[t("el-date-picker",{attrs:{placeholder:"选择创建的日期时间",type:"datetime"},model:{value:i.form.createTime,callback:function(e){i.$set(i.form,"createTime",e)},expression:"form.createTime"}})],1),t("LeftLabeledField",{attrs:{label:"最近登录时间"}},[t("el-date-picker",{attrs:{placeholder:"选择用户最近登录系统的时间",type:"datetime"},model:{value:i.form.recentLoginTime,callback:function(e){i.$set(i.form,"recentLoginTime",e)},expression:"form.recentLoginTime"}})],1),t("LeftLabeledField",{attrs:{label:"角色"}},[t("RoleDropdown",{attrs:{"role-name-list":i.form.roleNameList,"init-role":i.initRole},on:{"update:roleNameList":function(e){return i.$set(i.form,"roleNameList",e)},"update:role-name-list":function(e){return i.$set(i.form,"roleNameList",e)}}})],1),t("BasicField",[t("div",{staticClass:"ui toggle checkbox m-padded-tb tip-popup"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.form.enabled,expression:"form.enabled"}],attrs:{id:"enabled","data-content":"是否让该用户可以登录系统",type:"checkbox"},domProps:{checked:Array.isArray(i.form.enabled)?-1<i._i(i.form.enabled,null):i.form.enabled},on:{change:function(e){var t,a=i.form.enabled,n=e.target,r=!!n.checked;Array.isArray(a)?(t=null,e=i._i(a,t),n.checked?e<0&&i.$set(i.form,"enabled",a.concat([t])):-1<e&&i.$set(i.form,"enabled",a.slice(0,e).concat(a.slice(e+1)))):i.$set(i.form,"enabled",r)}}}),t("label",{attrs:{for:"enabled"}},[i._v("是否启用")])])]),t("input",{attrs:{id:"id",type:"hidden"}})],1)],1)],1)},[],!1,null,null,null).exports,m=a("e8c9"),y={name:"PaginationMenu",props:{pageInformation:{type:Object,required:!0}},data:function(){return{currentPage:1,pageSize:5,totalPage:0}},watch:{pageInformation:function(){var e=this.pageInformation;e&&(this.currentPage=e.currentPage,this.pageSize=e.pageSize,this.totalPage=e.totalPage)}},methods:{handleSizeChange:function(e){this.pageSize=e,this.$emit("currentChange",this.currentPage,this.pageSize)}}},c=Object(s.a)(y,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"ui pagination menu"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-count":t.totalPage,"page-size":t.pageSize,"page-sizes":[1,5,10,20],background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":function(e){return t.$emit("currentChange",t.currentPage,t.pageSize)},"size-change":t.handleSizeChange}})],1)},[],!1,null,"37765160",null).exports,y=a("b51c").a,y=Object(s.a)(y,function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:e.loaderId}},[e._m(0),e._t("default")],2)},[function(){var e=this.$createElement,e=this._self._c||e;return e("div",{staticClass:"ui inverted dimmer"},[e("div",{staticClass:"ui text loader"},[this._v("加载中")])])}],!1,null,"1e172c1a",null).exports,m={name:"UserInfoTable",components:{Loader:y,PaginationMenu:c},props:{mode:{type:String,default:""},searchName:{type:String,default:""},searchUser:{type:Object,default:null}},data:function(){return{pageInformation:n(),userList:[],loaderShow:!1}},watch:{searchName:function(){this.refreshUserInfoTable()},searchUser:function(){this.refreshUserInfoTable()}},mounted:function(){this.updateCurrentPageData()},methods:{parseStringTime:p.d,roleListHasAdmin:m.b,updateCurrentPageData:function(){var n=arguments,r=this;return Object(i.a)(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=0<n.length&&void 0!==n[0]?n[0]:1,t=1<n.length&&void 0!==n[1]?n[1]:5,r.loaderShow=!0,e.next=5,r.requestUserListByMode(a,t);case 5:a=e.sent,t=a.success,a=a.data,r.loaderShow=!1,t&&(r.pageInformation=a.pageInformation,r.userList=a.list);case 10:case"end":return e.stop()}},e)}))()},refreshUserInfoTable:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateCurrentPageData(t.pageInformation.currentPage,t.pageInformation.pageSize);case 2:case"end":return e.stop()}},e)}))()},requestUserListByMode:function(o,c){var l=this;return Object(i.a)(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=l.mode,e.next="name"===e.t0?3:"condition"===e.t0?5:7;break;case 3:return n=l.searchName,r=o,i=c,s=Object(h.a)("".concat(b,"/searchUserByName"),{name:n,page:r,pageSize:i}),e.abrupt("break",8);case 5:return t=l.searchUser,i=o,a=c,t.page=i,t.pageSize=a,s=Object(h.b)("".concat(b,"/searchUser"),t),e.abrupt("break",8);case 7:a=o,t=c,s=Object(h.a)("".concat(b,"/userList"),{page:a,pageSize:t});case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}var t,a,n,r,i},e)}))()}}},m=Object(s.a)(m,function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("div",[n("Loader",{attrs:{show:a.loaderShow}},[n("table",{staticClass:"ui striped table"},[n("thead",[n("tr",{staticClass:"center aligned"},[n("th",[a._v("用户名")]),n("th",[a._v("昵称")]),n("th",[a._v("拥有的角色")]),n("th",[a._v("创建时间")]),n("th",[a._v("最近登录时间")]),n("th",[a._v("是否启用")]),n("th",[a._v("操作")])])]),a._l(a.userList,function(t,e){return n("tbody",{key:e},[n("tr",{staticClass:"center aligned"},[n("td",[a._v(a._s(t.username))]),n("td",[a._v(a._s(t.nickname))]),n("td",[n("div",{staticClass:"ui basic labels"},a._l(t.roleList,function(e,t){return n("a",{key:t,staticClass:"ui label"},[a._v(a._s(e.nameZh))])}),0)]),n("td",[a._v(a._s(a.parseStringTime(t.createTime)))]),n("td",[a._v(a._s(a.parseStringTime(t.recentLoginTime)))]),n("td",[t.enabled?n("a",{staticClass:"ui green basic label"},[a._v("启用")]):n("a",{staticClass:"ui red basic label"},[a._v("禁用")])]),n("td",[n("button",{staticClass:"ui blue basic button",attrs:{disabled:a.roleListHasAdmin(t.roleList)},on:{click:function(e){return a.$emit("clickEdit",t)}}},[a._v(" 修改 ")]),n("button",{staticClass:"ui teal basic button",on:{click:function(e){return a.$emit("clickGameDetail",t.id)}}},[a._v(" 游戏详情 ")])])])])}),n("tfoot",[n("tr",[n("th",{staticClass:"center aligned",attrs:{colspan:"7"}},[n("PaginationMenu",{attrs:{"page-information":a.pageInformation},on:{currentChange:a.updateCurrentPageData}})],1)])])],2)])],1)},[],!1,null,null,null).exports,S=a("0144"),_={name:"ConditionSearchModal",components:{RoleDropdown:r,BasicField:w.a,LeftLabeledField:C.a,LeftLabeledInputField:k.a,Form:_.a,OkOrCancelModalActions:f,BasicModalContent:d,BasicModalHeader:l,Modal:o},data:function(){return{form:{username:"",nickname:"",createTimeRange:[new Date,new Date],recentLoginTimeRange:[new Date,new Date],roleNameList:[],enabled:-1}}},methods:{handleCheck:function(){var e=Object(p.c)(this.form),t=this.form.enabled;e.enabled=-1===t?null:1===t;t=e.createTimeRange;t&&(e.createTimeRange={start:t[0],end:t[1]});t=e.recentLoginTimeRange;t&&(e.recentLoginTimeRange={start:t[0],end:t[1]}),this.$emit("search",e)}}},f=Object(s.a)(_,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{"modal-id":"conditionSearchModal"},scopedSlots:t._u([{key:"header",fn:function(){return[a("BasicModalHeader",{staticClass:"blue"},[t._v(" 条件查询用户 ")])]},proxy:!0},{key:"actions",fn:function(){return[a("OkOrCancelModalActions",{on:{clickCheck:t.handleCheck}})]},proxy:!0}])},[a("BasicModalContent",[a("Form",[a("LeftLabeledInputField",{attrs:{data:t.form.username,label:"用户名"},on:{"update:data":function(e){return t.$set(t.form,"username",e)}}}),a("LeftLabeledInputField",{attrs:{data:t.form.nickname,label:"昵称"},on:{"update:data":function(e){return t.$set(t.form,"nickname",e)}}}),a("LeftLabeledField",{attrs:{label:"创建时间范围"}},[a("el-date-picker",{attrs:{"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"datetimerange"},model:{value:t.form.createTimeRange,callback:function(e){t.$set(t.form,"createTimeRange",e)},expression:"form.createTimeRange"}})],1),a("LeftLabeledField",{attrs:{label:"最近登录时间范围"}},[a("el-date-picker",{attrs:{"end-placeholder":"结束日期","start-placeholder":"开始日期",type:"datetimerange"},model:{value:t.form.recentLoginTimeRange,callback:function(e){t.$set(t.form,"recentLoginTimeRange",e)},expression:"form.recentLoginTimeRange"}})],1),a("LeftLabeledField",{attrs:{label:"角色"}},[a("RoleDropdown",{attrs:{"role-name-list":t.form.roleNameList},on:{"update:roleNameList":function(e){return t.$set(t.form,"roleNameList",e)},"update:role-name-list":function(e){return t.$set(t.form,"roleNameList",e)}}})],1),a("div",{staticClass:"inline fields"},[a("label",[t._v("是否启用")]),a("BasicField",[a("div",{staticClass:"ui radio checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.enabled,expression:"form.enabled"}],attrs:{checked:"checked",name:"enabled",type:"radio",value:"-1"},domProps:{checked:t._q(t.form.enabled,"-1")},on:{change:function(e){return t.$set(t.form,"enabled","-1")}}}),a("label",[t._v("不限")])])]),a("BasicField",[a("div",{staticClass:"ui radio checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.enabled,expression:"form.enabled"}],attrs:{name:"enabled",type:"radio",value:"1"},domProps:{checked:t._q(t.form.enabled,"1")},on:{change:function(e){return t.$set(t.form,"enabled","1")}}}),a("label",[t._v("启用")])])]),a("BasicField",[a("div",{staticClass:"ui radio checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.enabled,expression:"form.enabled"}],attrs:{name:"enabled",type:"radio",value:"0"},domProps:{checked:t._q(t.form.enabled,"0")},on:{change:function(e){return t.$set(t.form,"enabled","0")}}}),a("label",[t._v("禁用")])])])],1)],1)],1)],1)},[],!1,null,null,null).exports,d=(a("a9e3"),function(){this.$createElement;return this._self._c,this._m(0)}),_={name:"OKModalActions"},_=Object(s.a)(_,d,[function(){var e=this.$createElement,e=this._self._c||e;return e("div",{staticClass:"actions"},[e("div",{staticClass:"ui green ok inverted button"},[e("i",{staticClass:"checkmark icon"}),this._v("确认 ")])])}],!1,null,null,null).exports,L=(a("4de4"),a("13d5"),a("d3b7"),a("b85c"));a.e("chunk-2d0ce84f").then(a.t.bind(null,"6098",7));var d={name:"UserGameInformationList",props:{userId:{type:Number,required:!0}},data:function(){return{gameInformationList:[],overviewGameInformation:{total:0,correctNumber:0,averageSpendTime:null,minSpendTime:null,maxSpendTime:null}}},watch:{userId:function(){this.userId&&0!==this.userId&&this.initGameInformation()}},updated:function(){Object(g.e)(".menu .item")},methods:{initGameInformation:function(){var r=this;return Object(i.a)(regeneratorRuntime.mark(function e(){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t=r.userId,Object(h.a)("".concat(b,"/gameInformationById"),{userId:t});case 2:n=e.sent,a=n.success,n=n.data,a&&(r.overviewGameInformation=r.calculateOverviewGameInformation(n),r.gameInformationList=r.formatSpendTime(n));case 6:case"end":return e.stop()}var t},e)}))()},calculateOverviewGameInformation:function(e){return{total:this.calculateTotal(e),correctNumber:this.calculateCorrectNumber(e),averageSpendTime:Object(g.b)(this.calculateAverageSpendTime(e)),minSpendTime:Object(g.b)(this.calculateMinSpendTime(e)),maxSpendTime:Object(g.b)(this.calculateMaxSpendTime(e))}},formatSpendTime:function(e){var t=Object(L.a)(e);try{for(t.s();!(a=t.n()).done;){var a=a.value;a.averageSpendTime=Object(g.b)(a.averageSpendTime),a.minSpendTime=Object(g.b)(a.minSpendTime),a.maxSpendTime=Object(g.b)(a.maxSpendTime)}}catch(e){t.e(e)}finally{t.f()}return e},calculateAverageSpendTime:function(e){var t=e.map(function(e){return e.averageSpendTime}).filter(function(e){return null!==e}),e=t.length;return 0===e?null:t.reduce(function(e,t){return e+t},0)/e},calculateMinSpendTime:function(e){e=e.map(function(e){return e.minSpendTime}).filter(function(e){return null!==e});return Math.min.apply(null,e)},calculateMaxSpendTime:function(e){e=e.map(function(e){return e.maxSpendTime}).filter(function(e){return null!==e});return Math.max.apply(null,e)},calculateTotal:function(e){return e.map(function(e){return e.total}).reduce(function(e,t){return e+t},0)},calculateCorrectNumber:function(e){return e.map(function(e){return e.correctNumber}).reduce(function(e,t){return e+t},0)}}},d=(a("5f90"),Object(s.a)(d,function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("div",[n("div",{staticClass:"ui top attached tabular menu"},[n("a",{staticClass:"item active",attrs:{"data-tab":"-1"}},[a._v("总览")]),a._l(a.gameInformationList,function(e,t){return n("a",{key:t,staticClass:"item",attrs:{"data-tab":t}},[a._v(" "+a._s(e.sudokuLevelName)+" ")])})],2),n("div",{staticClass:"ui bottom attached tab segment active",attrs:{"data-tab":"-1"}},[n("div",{staticClass:"ui five statistics"},[n("div",{staticClass:"statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(a.overviewGameInformation.total)+" ")]),n("div",{staticClass:"label"},[a._v(" 总局数(次) ")])]),n("div",{staticClass:"statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(a.overviewGameInformation.correctNumber)+" ")]),n("div",{staticClass:"label"},[a._v(" 提交正确的局数(次) ")])]),n("div",{staticClass:"ui statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(a.overviewGameInformation.averageSpendTime)+" ")]),n("div",{staticClass:"label"},[a._v(" 各模式的平均用时(秒) ")])]),n("div",{staticClass:"ui statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(a.overviewGameInformation.minSpendTime)+" ")]),n("div",{staticClass:"label"},[a._v(" 最短用时(秒) ")])]),n("div",{staticClass:"statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(a.overviewGameInformation.maxSpendTime)+" ")]),n("div",{staticClass:"label"},[a._v(" 最长用时(秒) ")])])])]),a._l(a.gameInformationList,function(e,t){return n("div",{key:t,staticClass:"ui bottom attached tab segment",attrs:{"data-tab":t}},[n("div",{staticClass:"ui five statistics"},[n("div",{staticClass:"statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(e.total)+" ")]),n("div",{staticClass:"label"},[a._v(" 局数(次) ")])]),n("div",{staticClass:"statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(e.correctNumber)+" ")]),n("div",{staticClass:"label"},[a._v(" 提交正确的局数(次) ")])]),n("div",{staticClass:"statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(e.averageSpendTime)+" ")]),n("div",{staticClass:"label"},[a._v(" 平均用时(秒) ")])]),n("div",{staticClass:"statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(e.minSpendTime)+" ")]),n("div",{staticClass:"label"},[a._v(" 最短用时(秒) ")])]),n("div",{staticClass:"statistic"},[n("div",{staticClass:"value"},[a._v(" "+a._s(e.maxSpendTime)+" ")]),n("div",{staticClass:"label"},[a._v(" 最长用时(秒) ")])])])])})],2)},[],!1,null,"31e5c276",null)).exports,I=a("0711"),y={name:"UserGameRecordTable",components:{PaginationMenu:c,Loader:y},props:{userId:{type:Number,required:!0}},data:function(){return{pageInformation:n(),recordData:[],loaderShow:!1}},watch:{userId:function(){this.userId&&0!==this.userId&&this.updateCurrentPageData()}},methods:{formatEmptyData:g.a,updateCurrentPageData:function(){var s=arguments,o=this;return Object(i.a)(regeneratorRuntime.mark(function e(){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=0<s.length&&void 0!==s[0]?s[0]:1,r=1<s.length&&void 0!==s[1]?s[1]:5,o.loaderShow=!0,e.next=5,t=o.userId,a=i,n=r,Object(h.a)("".concat(b,"/historyGameRecordById"),{userId:t,page:a,pageSize:n});case 5:i=e.sent,r=i.success,i=i.data,o.loaderShow=!1,r&&(o.recordData=o.convertGameRecordToMatrix(i.list),o.pageInformation=i.pageInformation,o.scrollToHeader());case 10:case"end":return e.stop()}var t,a,n},e)}))()},convertGameRecordToMatrix:function(e){for(var t=0,a=e.length;t<a;t++)e[t].sudokuMatrix=Object(I.b)(e[t].sudokuMatrix),e[t].sudokuHoles=Object(I.a)(e[t].sudokuHoles);return e},scrollToHeader:function(){this.$refs.tableHead.scrollIntoView()}}},l={name:"UserGameDetailModal",components:{UserGameRecordTable:(a("677e"),Object(s.a)(y,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Loader",{attrs:{show:t.loaderShow}},[r("table",{staticClass:"ui celled padded table"},[r("thead",{ref:"tableHead"},[r("tr",{staticClass:"center aligned"},[r("th",[t._v("数独矩阵")]),r("th",[t._v("难度")]),r("th",[t._v("开始时间")]),r("th",[t._v("结束时间")]),r("th",[t._v("提交情况")])])]),r("tbody",t._l(t.recordData,function(n,e){return r("tr",{key:e,staticClass:"center aligned"},[r("td",t._l(n.sudokuMatrix,function(e,a){return r("div",{key:a,staticClass:"sudoku-row absolute-center"},t._l(e,function(e,t){return r("div",{key:t,staticClass:"mini-number"},[r("input",{staticClass:"sudoku-number-input",class:[n.sudokuHoles[a][t]?"input-color":"background-color-gray"],attrs:{disabled:"",type:"text"},domProps:{value:e}})])}),0)}),0),r("td",[t._v(" "+t._s(n.sudokuLevelName)+" ")]),r("td",[t._v(" "+t._s(t.formatEmptyData(n.startTime))+" ")]),r("td",[t._v(" "+t._s(t.formatEmptyData(n.endTime))+" ")]),r("td",[r("i",{staticClass:"icon",class:[n.correct?"checkmark green":"remove red"]})])])}),0),r("tfoot",[r("tr",[r("th",{staticClass:"center aligned",attrs:{colspan:"5"}},[r("PaginationMenu",{attrs:{"page-information":t.pageInformation},on:{currentChange:t.updateCurrentPageData}})],1)])])])])},[],!1,null,"4f64f995",null)).exports,UserGameInformationList:d,OKModalActions:_,Modal:o,BasicModalHeader:l},props:{userId:{type:Number,required:!0}}},u={name:"UserTable",components:{UserGameDetailModal:Object(s.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{"modal-id":"userGameDetailModal"},scopedSlots:e._u([{key:"header",fn:function(){return[a("BasicModalHeader",{staticClass:"blue"},[e._v(" 游戏详情 ")])]},proxy:!0},{key:"actions",fn:function(){return[a("OKModalActions")]},proxy:!0}])},[a("div",{staticClass:"scrolling content"},[a("h4",{staticClass:"ui horizontal divider header"},[e._v(" 用户游戏信息 ")]),a("UserGameInformationList",{attrs:{"user-id":e.userId}}),a("h4",{staticClass:"ui horizontal divider header"},[e._v(" 游戏历史记录 ")]),a("UserGameRecordTable",{attrs:{"user-id":e.userId}})],1)])},[],!1,null,null,null).exports,ConditionSearchModal:f,UserInfoTable:m,SaveUserModal:u},data:function(){return{editUser:null,searchUser:null,showDetailId:0,searchName:"",mode:""}},methods:{showModal:S.a,handleEditUser:function(e){this.editUser=e,Object(S.a)("saveUserModal")},insertUser:function(){this.editUser=null,Object(S.a)("saveUserModal")},searchByName:function(){this.mode="name"},searchByCondition:function(e){this.mode="condition",this.searchUser=e},handleShowGameDetail:function(e){this.showDetailId=e,Object(S.a)("userGameDetailModal")},refreshUserInfoTable:function(){this.$refs.userInfoTable.refreshUserInfoTable()}}},u=Object(s.a)(u,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",[e("div",{staticClass:"m-padded-t m-padded-lr-large"},[e("div",{staticClass:"ui action input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchName,expression:"searchName"}],attrs:{type:"text",placeholder:"输入用户的名称"},domProps:{value:t.searchName},on:{input:function(e){e.target.composing||(t.searchName=e.target.value)}}}),e("button",{staticClass:"ui button",on:{click:t.searchByName}},[t._v("搜索")])]),e("button",{staticClass:"ui teal labeled icon button m-margin-l",on:{click:function(e){return t.showModal("conditionSearchModal")}}},[e("i",{staticClass:"search icon"}),t._v(" 高级搜索 ")]),e("button",{staticClass:"ui blue right floated button",on:{click:t.insertUser}},[t._v("新增用户")])]),e("UserInfoTable",{ref:"userInfoTable",attrs:{mode:t.mode,"search-name":t.searchName,"search-user":t.searchUser},on:{clickEdit:t.handleEditUser,clickGameDetail:t.handleShowGameDetail}}),e("SaveUserModal",{attrs:{user:t.editUser},on:{saveUserSuccess:t.refreshUserInfoTable}}),e("ConditionSearchModal",{on:{search:t.searchByCondition}}),e("UserGameDetailModal",{attrs:{"user-id":t.showDetailId}})],1)},[],!1,null,null,null);t.default=u.exports},"9a0c":function(e,t,a){a=a("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},b51c:function(e,a,n){"use strict";(function(e){var t=n("3de1");a.a={name:"Loader",props:{show:{type:Boolean,required:!0}},data:function(){return{loaderId:this.createUniqueString()}},watch:{show:function(){this.changeItemListDimmer()}},methods:{createUniqueString:t.a,changeItemListDimmer:function(){e("#".concat(this.loaderId)).dimmer(this.show?"show":"hide")}}}}).call(this,n("1157"))},ce50:function(e,r,i){"use strict";(function(e){i("ac1f"),i("1276"),i("96cf");var a=i("1da1"),t=i("e8c9"),n=i("6b2e");r.a={name:"RoleDropdown",props:{roleNameList:{type:Array,required:!0},initRole:{type:Array,default:function(){return[]}}},data:function(){return{roleList:[],id:"RoleDropdown_".concat(this._uid)}},watch:{initRole:function(){this.initRoleDropdown()}},mounted:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.getRoleNameList();case 2:t.roleList=e.sent;case 3:case"end":return e.stop()}},e)}))()},methods:{roleNameHasAdmin:t.c,initRoleDropdown:function(){e("#".concat(this.id)).dropdown("set selected",this.initRole)},changeRoleNameList:function(e){this.$emit("update:roleNameList",e.split(","))}}}}).call(this,i("1157"))}}]);